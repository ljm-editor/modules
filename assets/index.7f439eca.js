var I=Object.defineProperty;var u=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var d=(t,e,r)=>e in t?I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g=(t,e)=>{for(var r in e||(e={}))x.call(e,r)&&d(t,r,e[r]);if(u)for(var r of u(e))S.call(e,r)&&d(t,r,e[r]);return t};import{e as f,t as v,h as B}from"./main.25db28a1.js";import{c as $,W as j,g as E}from"./index.54f1fa7a.js";import{c as M}from"./cloneDeep.c9a8d33d.js";import"./vue-libs.882c34e2.js";const[R,h]=$({name:"banner",desc:"\u5E7F\u544A\u4F4D",group:"\u57FA\u7840\u6A21\u5757",visible:!0,tags:["\u56FE\u7247","\u5E7F\u544A"],order:2}),a="https://img.mytijian.com/common/img/2021-10/1634116282-i6lEpr.png",U={props:{height:{type:Number,default:100,editor:{type:"ext-props-input",span:12,formItemProps:{label:"\u9AD8\u5EA6",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-v"}}},columnNum:{type:Number,default:1,editor:{type:"ext-props-input",span:12,formItemProps:{label:"\u5217\u6570",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-3column",min:1,max:4}}},gap:{type:Number,default:0,editor:{type:"ext-props-input",props:{min:0},span:12,formItemProps:{label:"\u95F4\u9694",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-h"}}},radius:{type:Number,default:0,editor:{type:"ext-props-input",formItemProps:{label:"\u5706\u89D2",labelCol:{span:6},wrapperCol:{span:18}},span:12,props:{min:0,unit:"\u02DA",icon:"icon-yuanjiao2"}}},bgColor:{type:String,default:"#fff",editor:{type:"ext-color-picker",span:12,formItemProps:{label:"\u80CC\u666F",labelCol:{span:6},wrapperCol:{span:18}}}},list:{type:Array,default:()=>[{img:{type:"img",url:"https://mytijian-img.oss-cn-hangzhou.aliyuncs.com/hospital/5/mobile_deputy_banner/1.jpg"},link:{href:"/usercenter",title:"\u4E2A\u4EBA\u4E2D\u5FC3"}}],editor:{type:"ext-img-link-list",formItemProps:{labelCol:{span:0},wrapperCol:{span:23}},props:{limitNum:4}}}},triggers:{click:"click"},computed:{showList(){if(this.isProduction)return this.list;const t=M(this.list);let e=0;for(t.length<this.columnNum&&(e=this.columnNum-t.length),t.map(r=>(r.img||(r.img={url:a,type:"img"}),r));e--;)t.push({img:{url:a,type:"img"}});return t}},methods:{onClick(t){return()=>{const{eventNamespace:e,$options:r}=this,{triggers:o}=r,n=`${e}:${o.click}`;f.emit(n,{data:t})}},getImageStyle(t,e){const{url:r}=t.img||{},{height:o,bgColor:n,gap:l,columnNum:s,list:b,radius:w}=this,m=b.length,i={backgroundImage:`url(${r!=null?r:a})`,height:this.addUnit(o),backgroundColor:n,borderRadius:this.addUnit(w)},p=this.addUnit(l);if(s!==1){const c=Math.ceil(m/s);c>1&&(i.marginBottom=Math.ceil((e+1)/s)===c?0:p),(e+1)%s!==0&&(i.marginRight=p);const[A,C,D,P]=this.wrapPadding,N=(375-C-P-(s-1)*l)/s,k=this.addUnit(N);i.width=k}else m>1&&(i.marginBottom=p);return i}},render(){const t=arguments[0],{showList:e}=this;return t(j,{attrs:{wrapStyle:this.wrapStyle,innerStyle:this.wrapInnerStyle}},[t("div",{class:h()},[e.map((r,o)=>t("div",{class:h("img"),key:o,on:{click:this.onClick(r)},style:this.getImageStyle(r,o)}))])])}};var z=R(U);const y=z,{defaultProps:_,editProps:L,wrapEditProps:V}=E(y);var K={data(){return{moduleProps:_}},mounted(){f.on(v,({file:t,success:e})=>{console.log(t,e)})},render(t){return t("div",[t("demo-layout",{attrs:{editProps:L,wrapEditProps:V,defaultProps:this.moduleProps},scopedSlots:{left:e=>t(y,B([{},{props:g({},e)}]))}})])}};export{K as default};
