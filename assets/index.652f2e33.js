var k=Object.defineProperty;var c=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var u=(t,e,o)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,d=(t,e)=>{for(var o in e||(e={}))x.call(e,o)&&u(t,o,e[o]);if(c)for(var o of c(e))I.call(e,o)&&u(t,o,e[o]);return t};import{e as g,l as S,h as j}from"./main.76db6de8.js";import{c as v,W as B,g as $}from"./index.51da68e0.js";import{c as z}from"./cloneDeep.c9a8d33d.js";import"./vue-libs.882c34e2.js";const[E,h]=v({name:"banner",desc:"\u5E7F\u544A\u4F4D",group:"\u57FA\u7840\u6A21\u5757",visible:!0,tags:["\u56FE\u7247","\u5E7F\u544A"]}),a="https://img.mytijian.com/common/img/2021-10/1634116282-i6lEpr.png",R={props:{height:{type:Number,default:100,editor:{type:"ext-props-input",span:10,formItemProps:{label:"\u9AD8\u5EA6",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-v"}}},columnNum:{type:Number,default:1,editor:{type:"ext-props-input",span:10,formItemProps:{label:"\u5217\u6570",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-3column",min:1,max:4}}},gap:{type:Number,default:0,editor:{type:"ext-props-input",props:{min:0},span:10,formItemProps:{label:"\u95F4\u9694",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-h"}}},radius:{type:Number,default:0,editor:{type:"ext-props-input",formItemProps:{label:"\u5706\u89D2",labelCol:{span:6},wrapperCol:{span:18}},span:10,props:{min:0,unit:"\u02DA",icon:"icon-zk-pc-tool-angle"}}},bgColor:{type:String,default:"#fff",editor:{type:"ext-color-picker",span:10,formItemProps:{label:"\u80CC\u666F",labelCol:{span:6},wrapperCol:{span:18}}}},list:{type:Array,default:()=>[{img:{type:"img",url:"https://mytijian-img.oss-cn-hangzhou.aliyuncs.com/hospital/5/mobile_deputy_banner/1.jpg"},link:{href:"/usercenter",title:"\u4E2A\u4EBA\u4E2D\u5FC3"}}],editor:{type:"ext-img-link-list",props:{limitNum:4}}}},triggers:{click:"click"},computed:{showList(){if(this.isProduction)return this.list;const t=z(this.list);let e=0;for(t.length<this.columnNum&&(e=this.columnNum-t.length),t.map(o=>(o.img||(o.img={url:a,type:"img"}),o));e--;)t.push({img:{url:a,type:"img"}});return t}},methods:{onClick(t){return()=>{const{eventNamespace:e,$options:o}=this,{triggers:r}=o,n=`${e}:${r.click}`;g.emit(n,{data:t})}},getImageStyle(t,e){const{url:o}=t.img||{},{height:r,bgColor:n,gap:l,columnNum:s,list:y,radius:b}=this,m=y.length,i={backgroundImage:`url(${o!=null?o:a})`,height:this.addUnit(r),backgroundColor:n,borderRadius:this.addUnit(b)},p=this.addUnit(l);if(s!==1){Math.ceil(m/s)>1&&(i.marginBottom=p),(e+1)%s!=0&&(i.marginRight=p);const[W,w,A,C]=this.wrapPadding,N=(375-w-C-(s-1)*l)/s,P=this.addUnit(N);i.width=P}else m>1&&(i.marginBottom=p);return i}},render(){const t=arguments[0],{showList:e}=this;return t(B,{attrs:{wrapStyle:this.wrapStyle,innerStyle:this.wrapInnerStyle}},[t("div",{class:h()},[e.map((o,r)=>t("div",{class:h("img"),key:r,on:{click:this.onClick(o)},style:this.getImageStyle(o,r)}))])])}};var U=E(R);const f=U,{defaultProps:M,editProps:_,wrapEditProps:D}=$(f);var K={data(){return{moduleProps:M}},mounted(){g.on(S,({file:t,success:e})=>{console.log(t,e)})},render(t){return t("div",[t("demo-layout",{attrs:{editProps:_,wrapEditProps:D,defaultProps:this.moduleProps},scopedSlots:{left:e=>t(f,j([{},{props:d({},e)}]))}})])}};export{K as default};
