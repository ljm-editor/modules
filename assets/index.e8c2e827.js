var S=Object.defineProperty,U=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(t,e,r)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l=(t,e)=>{for(var r in e||(e={}))B.call(e,r)&&g(t,r,e[r]);if(u)for(var r of u(e))R.call(e,r)&&g(t,r,e[r]);return t},h=(t,e)=>U(t,v(e));import{e as y,a as M,h as $}from"./main.a67208f8.js";import{c as j,W as L,g as z}from"./index.04e0b753.js";import{c as E}from"./cloneDeep.c9a8d33d.js";import"./vue-libs.882c34e2.js";const[V,f]=j({name:"banner",desc:"\u5E7F\u544A\u4F4D",group:"\u57FA\u7840\u6A21\u5757",visible:!0,tags:["\u56FE\u7247","\u5E7F\u544A"],order:2}),A={backgroundImage:"url(https://img.mytijian.com/common/img/2022-04/1649236385-ndJc1v.png)",backgroundSize:"32px 32px",backgroundPosition:"center center",backgroundColor:"#f1f8ff"},W={props:{padding:{type:Array,default:()=>[0,0,0,0],editor:{type:"ext-margin-input",span:24,props:{linkLR:!0},formItemProps:{label:"\u8FB9\u8DDD",labelCol:{span:3},wrapperCol:{span:20}}}},height:{type:Number,default:100,editor:{type:"ext-props-input",span:12,formItemProps:{label:"\u9AD8\u5EA6",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-v"}}},columnNum:{type:Number,default:1,editor:{type:"ext-props-input",span:12,formItemProps:{label:"\u5217\u6570",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-3column",min:1,max:4}}},gap:{type:Number,default:0,editor:{type:"ext-props-input",props:{min:0},span:12,formItemProps:{label:"\u95F4\u9694",labelCol:{span:6},wrapperCol:{span:18}},props:{icon:"icon-resize-h"}}},radius:{type:Number,default:0,editor:{type:"ext-props-input",formItemProps:{label:"\u5706\u89D2",labelCol:{span:6},wrapperCol:{span:18}},span:12,props:{min:0,unit:"\u02DA",icon:"icon-yuanjiao2"}}},bgColor:{type:String,default:"#fff",editor:{type:"ext-color-picker",span:12,formItemProps:{label:"\u80CC\u666F",labelCol:{span:6},wrapperCol:{span:18}}}},list:{type:Array,default:()=>[{img:{type:"img",url:"https://img.mytijian.com/common/img/2022-03/1648533267-rfMayV.jpg"},link:{href:"/myreport",title:"\u68C0\u67E5\u62A5\u544A"}}],editor:{type:"ext-img-link-list",formItemProps:{labelCol:{span:0},wrapperCol:{span:23}},props:{limitNum:4}}}},triggers:{click:"click"},computed:{showList(){if(this.isProduction)return this.list;const t=E(this.list);let e=0;for(t.length<this.columnNum&&(e=this.columnNum-t.length),t.map(r=>(r.img||(r.img={url:"default",type:"img"}),r));e--;)t.push({img:{url:"default",type:"img"}});return t},containerStyle(){const{bgColor:t,padding:e}=this,[r,o,s,a]=e;return{backgroundColor:t,paddingTop:this.addUnit(r),paddingRight:this.addUnit(o),paddingBottom:this.addUnit(s),paddingLeft:this.addUnit(a)}}},methods:{onClick(t){return()=>{const{eventNamespace:e,$options:r}=this,{triggers:o}=r,s=`${e}:${o.click}`;y.emit(s,{data:t})}},getImageStyle(t,e){const{url:r}=t.img||{},{height:o,bgColor:s,gap:a,columnNum:i,list:w,radius:m}=this,d=w.length,n=r==="default"?h(l({},A),{height:this.addUnit(o),borderRadius:this.addUnit(m)}):{backgroundImage:`url(${r})`,height:this.addUnit(o),borderRadius:this.addUnit(m)},p=this.addUnit(a);if(i!==1){const c=Math.ceil(d/i);c>1&&(n.marginBottom=Math.ceil((e+1)/i)===c?0:p),(e+1)%i!==0&&(n.marginRight=p);const[,C,,P]=this.wrapPadding,[,k,,N]=this.padding,x=(375-C-P-k-N-(i-1)*a)/i,I=this.addUnit(x);n.width=I}else d>1&&(n.marginBottom=p);return n}},render(){const t=arguments[0],{showList:e}=this;return t(L,{attrs:{wrapStyle:this.wrapStyle,innerStyle:this.wrapInnerStyle}},[t("div",{class:f(),style:this.containerStyle},[e.map((r,o)=>t("div",{class:f("img"),key:o,on:{click:this.onClick(r)},style:this.getImageStyle(r,o)}))])])}};var D=V(W);const b=D,{defaultProps:J,editProps:T,wrapEditProps:_}=z(b);var Q={data(){return{moduleProps:J}},mounted(){y.on(M,({file:t,success:e})=>{console.log(t,e)})},render(t){return t("div",[t("demo-layout",{attrs:{editProps:T,wrapEditProps:_,defaultProps:this.moduleProps},scopedSlots:{left:e=>t(b,$([{},{props:l({},e)}]))}})])}};export{Q as default};
