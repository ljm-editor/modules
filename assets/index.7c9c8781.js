var x=Object.defineProperty;var p=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var u=(t,e,r)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(t,e)=>{for(var r in e||(e={}))C.call(e,r)&&u(t,r,e[r]);if(p)for(var r of p(e))U.call(e,r)&&u(t,r,e[r]);return t};import{e as d,r as j,h as v}from"./main.f3a2d702.js";import{c as B,W as $,g as R}from"./index.5dc326e0.js";import{c as E}from"./cloneDeep.c9a8d33d.js";import"./vue-libs.882c34e2.js";const[M,g]=B({name:"banner",desc:"\u5E7F\u544A\u4F4D",group:"\u57FA\u7840\u6A21\u5757",tags:["\u56FE\u7247","\u5E7F\u544A"]}),h="https://iele.oss-cn-hangzhou.aliyuncs.com/iele/images/banner2@2x.png",f="https://img.mytijian.com/common/img/2021-10/1634116013-Jyo2by.png",D={props:{height:{type:Number,default:100,editor:{type:"a-input-number",formItemProps:{label:"\u9AD8\u5EA6"}}},bgColor:{type:String,default:"#fff",editor:{type:"ext-color-picker",formItemProps:{label:"\u80CC\u666F\u8272"}}},columnNum:{type:Number,default:1,editor:{type:"a-input-number",props:{min:1},formItemProps:{label:"\u5217\u6570"}}},gap:{type:Number,default:0,editor:{type:"a-input-number",props:{min:0},formItemProps:{label:"\u95F4\u9694"}}},radius:{type:Number,default:0,editor:{type:"a-input-number",props:{min:0},formItemProps:{label:"\u5706\u89D2"}}},list:{type:Array,default:()=>[],editor:{type:"ext-img-list"}}},triggers:{click:"click"},computed:{showList(){if(this.isProduction)return this.list;const t=E(this.list),e=this.columnNum>1?f:h;let r=0;for(t.length<this.columnNum&&(r=this.columnNum-t.length),t.map(o=>(o.url||(o.url=e),o));r--;)t.push({url:e});return t}},methods:{onClick(t){return()=>{const{eventNamespace:e,$options:r}=this,{triggers:o}=r,n=`${e}:${o.click}`;d.emit(n,{data:t})}},getImageStyle(t,e){const{url:r}=t,{height:o,bgColor:n,gap:m,columnNum:s,list:b,radius:w}=this,N=s>1?f:h,l=b.length,i={backgroundImage:`url(${r!=null?r:N})`,height:this.addUnit(o),backgroundColor:n,borderRadius:this.addUnit(w)},a=this.addUnit(m);if(s!==1){Math.ceil(l/s)>1&&(i.marginBottom=a),(e+1)%s!=0&&(i.marginRight=a);const[_,P,q,I]=this.wrapPadding,k=(375-P-I-(s-1)*m)/s,S=this.addUnit(k);i.width=S}else l>1&&(i.marginBottom=a);return i}},render(){const t=arguments[0],{showList:e}=this;return t($,{attrs:{wrapStyle:this.wrapStyle,innerStyle:this.wrapInnerStyle}},[t("div",{class:g()},[e.map((r,o)=>t("div",{class:g("img"),key:o,on:{click:this.onClick(r)},style:this.getImageStyle(r,o)}))])])}};var L=M(D);const y=L,{defaultProps:V,editProps:W,wrapEditProps:z}=R(y);var Q={data(){return{moduleProps:V}},mounted(){d.on(j,({file:t,success:e})=>{console.log(t,e)})},render(){const t=arguments[0];return t("div",[t("demo-layout",{attrs:{editProps:W,wrapEditProps:z,defaultProps:this.moduleProps},scopedSlots:{left:e=>t(y,v([{},{props:c({},e)}]))}})])}};export{Q as default};
